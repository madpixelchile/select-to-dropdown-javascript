window.onload=(()=>{transformToList()}),transformToList=(()=>{document.querySelector("body");const e=document.querySelectorAll("[data-custom-select]");let t,l;for(let n=0;e[n];n++){const s=document.createElement("div");s.className="my-custom-select-wrap",e[n].parentElement.insertBefore(s,e[n]),t=e[n].querySelectorAll("option"),l=e[n].querySelector("[selected]");const o=document.createElement("div");o.className="my-custom-select-parent",s.appendChild(e[n]),s.appendChild(o);const c=document.createElement("button");c.className="button button--deploy-button",c.setAttribute("data-deploy-list-button",!0),c.textContent=l.textContent,o.appendChild(c);const r=document.createElement("ul");r.className="my-custom-select",o.appendChild(r);for(let e=0;t[e];e++){let l=document.createElement("li");l.textContent=t[e].textContent,l.setAttribute("data-index",e),r.appendChild(l)}}deploySelectButton=(e=>{let t=e.target;if(t.getAttribute("data-deploy-list-button")){let e,l=t.nextElementSibling,n=t.parentElement.querySelectorAll("li");for(let t=0;n[t];t++){e=n[t].offsetHeight*(t+1)+t}l.classList.contains("active")?(l.classList.remove("active"),l.style.maxHeight="0px"):(l.classList=l.classList+" active",l.style.maxHeight=e+"px")}}),selectItemBehaviours=(e=>{let t=e.target;if(t.getAttribute("data-index")){let e=t.textContent,l=t.getAttribute("data-index"),s=n.parents(t,".my-custom-select-parent").previousElementSibling,o=s.querySelectorAll("option"),c=t.parentElement.querySelectorAll("li");t.parentElement.previousElementSibling.textContent=e,t.parentElement.classList.remove("active"),t.parentElement.style.maxHeight="0px";for(let e=0;o[e];e++)o[e].removeAttribute("selected"),c[e].classList.remove("selected");s.querySelectorAll("option")[""+l].selected=!0,t.classList=t.classList+" selected"}}),selectBehaviours=(e=>{const t=e.target;if("select"===t.tagName.toLowerCase()){let e=t.querySelectorAll("option"),l=t.value,n=t.nextElementSibling.querySelectorAll("li");for(let e=0;n[e];e++)n[e].classList.remove("selected");for(let s=0;e[s];s++){let o=e[s].selected;t.nextElementSibling.firstChild.textContent=l;o&&(n[""+s].classList=n[""+s].classList+" selected"),e[s].removeAttribute("selected")}}}),document.addEventListener("click",deploySelectButton),document.addEventListener("click",selectItemBehaviours),document.addEventListener("change",selectBehaviours);const n={parents:function(e,t){if(t){let l=e.parentElement,n=0;for(;!l.querySelector(t)&&n<50&&null!=l;)l=(e=l).parentElement,n++;return e}}}});